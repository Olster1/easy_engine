static char *fragment_shader_texture_shader = "uniform sampler2D tex;\n"
"\n"
"in vec4 colorOut;\n"
"\n"
"in vec2 texUV_out;\n"
"\n"
"\n"
"\n"
"out vec4 color;\n"
"\n"
"void main (void) {\n"
"\n"
"	vec4 texColor = texture(tex, texUV_out);\n"
"\n"
"	float alpha = texColor.w;\n"
"\n"
"	if(alpha == 0) discard; \n"
"\n"
"	vec4 b = colorOut*colorOut.w;\n"
"\n"
"	vec4 c = b*texColor;\n"
"\n"
"	c *= alpha;\n"
"\n"
"    color = c;\n"
"\n"
"}";

static char *frag_model_shader = "struct Material {\n"
"\n"
"    sampler2D diffuse;\n"
"\n"
"    sampler2D specular;\n"
"\n"
"    \n"
"\n"
"    float specularConstant;\n"
"\n"
"\n"
"\n"
"    vec3 ambientDefault;\n"
"\n"
"    vec3 diffuseDefault;\n"
"\n"
"    vec3 specularDefault;\n"
"\n"
"\n"
"\n"
"    int useDefault;\n"
"\n"
"};\n"
"\n"
"\n"
"\n"
"struct DirLight {\n"
"\n"
"	vec3 ambient;\n"
"\n"
"	vec3 diffuse;\n"
"\n"
"	vec3 specular;\n"
"\n"
"\n"
"\n"
"	vec4 direction;\n"
"\n"
"};\n"
"\n"
"\n"
"\n"
"in vec4 color_frag; \n"
"\n"
"in vec3 normal_frag; //worldspace\n"
"\n"
"in vec2 uv_frag; \n"
"\n"
"in vec3 fragPos; //worldspace\n"
"\n"
"\n"
"\n"
"uniform Material material;\n"
"\n"
"uniform DirLight lights[16];\n"
"\n"
"out vec4 color;\n"
"\n"
"uniform vec3 eye_worldspace; \n"
"\n"
"\n"
"\n"
"void main (void) {\n"
"\n"
"    float gamma = 2.2;\n"
"\n"
"\n"
"\n"
"    vec4 c = color_frag;\n"
"\n"
"    vec3 normal = normalize(normal_frag);\n"
"\n"
"    vec3 ambTex = material.ambientDefault;\n"
"\n"
"    vec3 diffTex = material.diffuseDefault;\n"
"\n"
"    vec3 specTex = material.specularDefault;\n"
"\n"
"    if(material.useDefault == 0) {\n"
"\n"
"        ambTex = diffTex = vec3(texture(material.diffuse, uv_frag));\n"
"\n"
"        specTex = vec3(texture(material.specular, uv_frag));\n"
"\n"
"    } \n"
"\n"
"\n"
"\n"
"    //NOTE(ol): Gamma correction\n"
"\n"
"    // ambTex = pow(ambTex, vec3(gamma));\n"
"\n"
"    // diffTex = pow(diffTex, vec3(gamma));\n"
"\n"
"    // specTex = pow(specTex, vec3(gamma));\n"
"\n"
"    \n"
"\n"
"    vec3 lightDir = vec3(normalize(-lights[0].direction));\n"
"\n"
"    float diff = max(dot(normal, lightDir), 0.0);\n"
"\n"
"\n"
"\n"
"    vec3 viewDir = normalize(eye_worldspace - fragPos);\n"
"\n"
"    vec3 reflectDir = reflect(-lightDir, normal);\n"
"\n"
"    float spec = pow(max(dot(viewDir, reflectDir), 0.0), material.specularConstant);\n"
"\n"
"\n"
"\n"
"    vec3 ambientColor = ambTex * lights[0].ambient;\n"
"\n"
"    vec3 diffuseColor = diff * diffTex * lights[0].diffuse;\n"
"\n"
"    vec3 specularColor = spec * specTex * lights[0].specular;\n"
"\n"
"\n"
"\n"
"    color = c * vec4(ambientColor + diffuseColor + specularColor, 1.0);\n"
"\n"
"\n"
"\n"
"    // color.rgb = pow(color.rgb, vec3(1.0/gamma));\n"
"\n"
"}";

static char *frag_skybox_shader = "out vec4 FragColor;\n"
"\n"
"\n"
"\n"
"in vec3 TexCoords;\n"
"\n"
"\n"
"\n"
"uniform samplerCube skybox;\n"
"\n"
"\n"
"\n"
"void main()\n"
"\n"
"{    \n"
"\n"
"    FragColor = texture(skybox, TexCoords);\n"
"\n"
"}";

static char *vertex_model_shader = "in vec3 vertex;\n"
"\n"
"in vec3 normal;\n"
"\n"
"in vec2 texUV;	\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"//Instanced variables\n"
"\n"
"in mat4 M;\n"
"\n"
"in mat4 V;\n"
"\n"
"\n"
"\n"
"in vec4 color;\n"
"\n"
"in vec4 uvAtlas;	//not using a atlas\n"
"\n"
"\n"
"\n"
"uniform mat4 projection;\n"
"\n"
"//outgoing variables\n"
"\n"
"out vec4 color_frag; \n"
"\n"
"out vec3 normal_frag;\n"
"\n"
"out vec2 uv_frag;\n"
"\n"
"out vec3 fragPos;\n"
"\n"
"\n"
"\n"
"void main() {\n"
"\n"
"    \n"
"\n"
"    gl_Position = projection * V * M * vec4(vertex, 1);\n"
"\n"
"    color_frag = color;\n"
"\n"
"    normal_frag = mat3(transpose(inverse(M))) * normal; //transpose(inverse(M))\n"
"\n"
"    uv_frag = texUV;\n"
"\n"
"    fragPos = vec3(M * vec4(vertex, 1));\n"
"\n"
"}";

static char *vertex_shader_tex_attrib_shader = "in vec3 vertex;\n"
"\n"
"in vec2 texUV;	\n"
"\n"
"\n"
"\n"
"in mat4 M;\n"
"\n"
"in mat4 V;\n"
"\n"
"\n"
"\n"
"in vec4 color;\n"
"\n"
"in vec4 uvAtlas;	\n"
"\n"
"\n"
"\n"
"uniform mat4 projection;\n"
"\n"
"\n"
"\n"
"out vec4 colorOut; //out going\n"
"\n"
"out vec2 texUV_out;\n"
"\n"
"\n"
"\n"
"void main() {\n"
"\n"
"    \n"
"\n"
"    gl_Position = projection * V * M * vec4(vertex, 1);\n"
"\n"
"    colorOut = color;\n"
"\n"
"    \n"
"\n"
"    int xAt = int(texUV.x*2);\n"
"\n"
"    int yAt = int(texUV.y*2) + 1;\n"
"\n"
"    texUV_out = vec2(uvAtlas[xAt], uvAtlas[yAt]);\n"
"\n"
"}";

static char *vertex_skybox_shader = "in vec3 vertex;\n"
"\n"
"\n"
"\n"
"out vec3 TexCoords;\n"
"\n"
"\n"
"\n"
"uniform mat4 projection;\n"
"\n"
"uniform mat4 view;\n"
"\n"
"\n"
"\n"
"void main()\n"
"\n"
"{\n"
"\n"
"    TexCoords = vertex;\n"
"\n"
"    vec4 pos = projection * view * vec4(vertex, 1.0);\n"
"\n"
"    gl_Position = pos.xyww;\n"
"\n"
"}  ";

